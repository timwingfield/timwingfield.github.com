<!DOCTYPE html>
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Substantial   
Description: A two-column, fixed-width design for 1024x768 screen resolutions.
Version    : 1.0
Released   : 20100522

-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>TDD Starting to Sink In</title>
    <meta name="author" content="Tim Wingfield" />
    <link href="/stylesheets/style.css" rel="stylesheet" type="text/css" media="screen" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23516986-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <div id="header">
      <div id="menu">
        <ul>
          <li><a href="/" class="first">Home</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>   
      </div>
      <div id="search"></div>
    </div>
    <div id="logo">
      <h1><a href="/">Winging It</a></h1>
      <p>
        <img src="http://www.gravatar.com/avatar/1f178e90d4b441b3a1103254a5b3392a.jpg?s=50" />
        <em>Here's what I got...</em>
      </p>
    </div>
    <hr />
    <div id="page">
      <div id="content">
        <div id="content-bgtop">
          <div id="content-bgbtm">
            

<div class="post">

  
  <div class="timestamp">Wednesday, July  9, 2008</div>
  <h2>TDD Starting to Sink In</h2>

<p>Back in late March, I <a href="/2008/03/30/tdd-growing-pains.html">blogged about my issues getting going with TDD</a>. At the time I was nearing the end of a project where I had attempted some unit testing, but had not done it up front. I was looking forward to a clean slate to get some more work on TDDing up my code.</p>

<p>That opportunity somewhat presented itself, though I was moving on to an established team, which presents its own challenges. However, this team, or a good portion of it, was practicing TDD. So, plenty of example code out there. Not only that, I ended up sitting about 3 feet from world renowned TDD zealot, Steve Harman. Steve is a great teacher, and only yelled at me a few times. (And I only cried the one time...)</p>

<p>That helped on the professional side of things, but even in my own hobby coding I started writing more and more tests before the code. I've been presenting on ASP.Net MVC at a few places recently, and the sample code I use there was written all TDD style. (And is presented test first.) Well, almost all of it...somebody wrote his repository wrong, and the updates didn't work so well. I have some refactoring to do.</p>

<p>So, here I am 3 months later, where do I stand on the points I brought up back in March?</p>

<ol>
<li>I tend to wrestle a lot with when to layout some of the framework and when to just breakdown and write the tests.</li>
</ol>


<p>This one became pretty easy when Steve introduced some BDD (<a href="http://en.wikipedia.org/wiki/Behavior_driven_development">Behavior Driven Design/Development</a>) style grammar to our testing. This one shift in thinking opened up my ability to get the requirements into unit tests, and get them green quicker. In a nutshell, thinking along the lines of, "When X condition is present, then Y should happen," and naming the classes and test methods with that type of grammar took me well beyond wondering when to write the tests.</p>

<ol>
<li>A recent project found our team working with a pile of generated tests.</li>
</ol>


<p>Generated tests are a thing of the past. This is a non-issue at this point.</p>

<ol>
<li>When to mock?</li>
</ol>


<p>Again, a healthy dose of Steve helped here a lot. Also, <a href="http://www.ayende.com/projects/rhino-mocks/downloads.aspx">Rhino Mocks</a> 3.5 was released with the <a href="http://ayende.com/Blog/archive/2008/05/16/Rhino-Mocks--Arrange-Act-Assert-Syntax.aspx">Arrange, Act, Assert syntax</a>, and that cleared up a lot in the mocking area. No more record and playback blocks, and lots of lambdas to stub out that which you want doing the dirty work.</p>

<p>The answer to the original question finally became clear: Get the hard stuff out of the way with mocks. Beyond that, get the stuff that you're not testing out of the way with mocks. The AAA syntax made that pretty easy.</p>

<ol>
<li>Is this test trivial, or needed?</li>
</ol>


<p>OK, I still have a bit of trouble here. Not as much as before, but occasionally I find myself writing a test, looking at it, and going, "Gee, I'm testing the setter of that property...that had BETTER work!"</p>

<ol>
<li>I still have large holes in what I test.</li>
</ol>


<p>Again, still having trouble here. Even with the good TDD practices in place at the most recent project, I found myself frustrated and writing the code and screen testing it rather than writing my unit tests up front. I did have a deadline that I was up against, but cutting the unit tests is never the right solution. I fell back to an old habit, one I've been working pretty diligently on breaking.</p>

<p>In the March blog entry, this referred to unit testing my javascript. Well, ending up on a Webforms project pretty much ended my worries about getting my javascript tested.</p>

<p>So, with those steps behind me, what do I want to focus on now? Well, I can still improve on numbers 4 and 5 above, but I think those two will be continuous improvements. I'm going to continue down the BDD-ish path. It's not pure BDD, but it got me over the hump, and I like the syntax. But overall, I'm just going to keep going at getting the tests written up front. Focus more on the red, green, refactor as much as I can. I'm seeing the benefits, just need to get those old habits kicked.</p>

  <div id="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'timwingfield';
        
        

        var disqus_url = 'http://blog.timwingfield.com/2008/07/09/tdd-starting-to-sink-in.html';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>

</div>


          </div>
        </div>
      </div><!-- end content -->
      
      <div id="sidebar">
        <ul>
          <li>
            <h2>Find me on...</h2>
            <ul>
              <li><a href="http://twitter.com/timwingfield">twitter</a></li>
              <li><a href="http://timwingfield.tumblr.com">tumblr</a></li>
              <li><a href="http://www.facebook.com/tim.wingfield">facebook</a></li>
              <li><a href="http://www.linkedin.com/pub/tim-wingfield/8/89/213">linkedin</a></li>
            </ul>
          </li>
          <li>
            <h2>Categories</h2>
            <ul>
            
              <li><a href="/categories/Codemash/index.html">Codemash</a></li>
            
              <li><a href="/categories/conference/index.html">conference</a></li>
            
              <li><a href="/categories/development/index.html">development</a></li>
            
              <li><a href="/categories/ajax/index.html">ajax</a></li>
            
              <li><a href="/categories/tech-fun/index.html">tech-fun</a></li>
            
              <li><a href="/categories/PragProg/index.html">PragProg</a></li>
            
              <li><a href="/categories/testing/index.html">testing</a></li>
            
              <li><a href="/categories/TDD/index.html">TDD</a></li>
            
              <li><a href="/categories/ASP.Net-MVC/index.html">ASP.Net-MVC</a></li>
            
              <li><a href="/categories/MVC/index.html">MVC</a></li>
            
              <li><a href="/categories/speaking/index.html">speaking</a></li>
            
              <li><a href="/categories/mobile/index.html">mobile</a></li>
            
              <li><a href="/categories/video/index.html">video</a></li>
            
              <li><a href="/categories/kanban/index.html">kanban</a></li>
            
              <li><a href="/categories/goals/index.html">goals</a></li>
            
              <li><a href="/categories/presentation/index.html">presentation</a></li>
            
              <li><a href="/categories/presenting/index.html">presenting</a></li>
            
              <li><a href="/categories/development-practices/index.html">development-practices</a></li>
            
              <li><a href="/categories/Rails/index.html">Rails</a></li>
            
              <li><a href="/categories/Ruby/index.html">Ruby</a></li>
            
              <li><a href="/categories/Mac/index.html">Mac</a></li>
            
              <li><a href="/categories/career/index.html">career</a></li>
            
              <li><a href="/categories/Windows/index.html">Windows</a></li>
            
              <li><a href="/categories/Lean/index.html">Lean</a></li>
            
              <li><a href="/categories/mongodb/index.html">mongodb</a></li>
            
              <li><a href="/categories/Cucumber/index.html">Cucumber</a></li>
            
              <li><a href="/categories/IronRuby/index.html">IronRuby</a></li>
            
              <li><a href="/categories/Albacore/index.html">Albacore</a></li>
            
              <li><a href="/categories/RSpec/index.html">RSpec</a></li>
            
              <li><a href="/categories/nUnit/index.html">nUnit</a></li>
            
              <li><a href="/categories/continuous-improvement/index.html">continuous-improvement</a></li>
            
              <li><a href="/categories/lean/index.html">lean</a></li>
            
              <li><a href="/categories/agile/index.html">agile</a></li>
            
              <li><a href="/categories/retrospectives/index.html">retrospectives</a></li>
            
              <li><a href="/categories/estimation/index.html">estimation</a></li>
            
              <li><a href="/categories/sizing/index.html">sizing</a></li>
            
              <li><a href="/categories/Jekyll/index.html">Jekyll</a></li>
            
              <li><a href="/categories/coaching/index.html">coaching</a></li>
            
            </ul>
          </li>
        </ul>
      </div><!-- end sidebar -->

      <div style="clear: both;">&nbsp;</div>

      <div id="footer">
        <ul id="footer-menu">
          <li class="first"><a href="/">Home</a></li>
          <li><a href="/all.html">All Posts</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>   
        <p>Copyright &copy;2011 timwingfield.com. All Rights Reserved.</p>
      </div>
    </div><!-- end page -->
  </body>
</html>
