<!DOCTYPE html>
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Substantial   
Description: A two-column, fixed-width design for 1024x768 screen resolutions.
Version    : 1.0
Released   : 20100522

-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Moving The Blog</title>
    <meta name="author" content="Tim Wingfield" />
    <link href="/stylesheets/style.css" rel="stylesheet" type="text/css" media="screen" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23516986-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
  </head>
  <body>
    <div id="header">
      <div id="menu">
        <ul>
          <li><a href="/" class="first">Home</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>   
      </div>
      <div id="search"></div>
    </div>
    <div id="logo">
      <h1><a href="/">Winging It</a></h1>
      <p>
        <img src="http://www.gravatar.com/avatar/1f178e90d4b441b3a1103254a5b3392a.jpg?s=50" />
        <em>Here's what I got...</em>
      </p>
    </div>
    <hr />
    <div id="page">
      <div id="content">
        <div id="content-bgtop">
          <div id="content-bgbtm">
            

<div class="post">

  
  <div class="timestamp">Tuesday, June  7, 2011</div>
  <h2>Moving The Blog</h2>

<p>With the <a href="/2011/05/12/estimation-rant.html">Estimation Rant</a> quickly becoming my most popular blog post and generating a good discussion in the comments, Blogger decided that was the day to start doing random deletions of comments and later posts. I have been leaning towards moving off the Blogger platform for a while, but being lazy and it mostly working, I didn’t move anything around. Since “mostly working” went out the window, it was time to move the blog.</p>

<p>But where to? I’ve always wanted to have a bit more control over where my content lived. I used the FTP upload option on blogger which kept the content on my own hosted server, but they discontinued that a couple years ago. I thought about moving to an installed WordPress blog, but that whole lazy thing kept me from pursuing that one too far. What about the blog hosted on WordPress? Why leave Blogger if that’s the choice.</p>

<p>Then I stumbled upon <a href="https://github.com/mojombo/jekyll">Jekyll</a>. Followed a <a href="https://github.com/mojombo/mojombo.github.com">few links</a> to some other <a href="https://github.com/joefiorini/userobsessed">Jekyll sites</a> then to how <a href="http://pages.github.com/">github pages</a> works and made my decision. My content lives on github rather than in some database somewhere, and it exists as plain html files. The power and storage of github behind a blog being served up as plain HTML files? Awesome! Publishing by typing <code>git push origin master</code>? Geek points out the wazoo!</p>

<h3>Setting Up The Jekyll Site</h3>

<p>Step 1 was to toy around with Jekyll some and see what was involved. Essentially do a quick spike of Jekyll and see if it was going to work. About an 3 hours into my spike, I had an html template in place, four of five test blog posts, and an about page. Decision solidified. I laid out the steps between where I was and where I wanted to be to get it launched and went to work. If you're the kind that flips to the back of the book to see how it ends, it took me roughly two weekends to complete the move and get it published.</p>

<p>The first hurdle I ran into was running Jekyll plugins on github. I had added a plugin to generate category links for me based on the categories in my blog posts. Pretty straightforward, but not handled by base Jekyll functionality. Everything worked fine locally, push to github and no categories. Looked around some, find the right page of the manual to complete my RTFM, and found that github doesn't run any code in the _plugins directory as it is untrusted code. Seemed a good enough reason to me, and the fix was pretty simple. Generate the site locally, add the categories directory that gets generated to the root directory of the project, then <code>git push origin master</code> and the categories are there. <em>(I’m not sure this is the best solution, but it is a solution.)</em></p>

<h3>Migrating From Blogger</h3>

<p>This was the real PITA for the whole move. There were a couple suggestions on how to automate the move, but I had no luck with either of them. In the end I settled on doing it all by hand, which really wasn't that hard. Copying from the blogger dashboard into markdown required very few edits. If I was moving more than the 60 or so posts I had, I would have probably found a way to script an import or something. I figured I could copy/paste my way through it quicker than scripting it out, so brute force won the day.</p>

<p>The smallish edits I had to make were what you would expect. Recreate some formatting - bold, italics, headings, etc - add the images back in, and add the links back to the posts. My earlier blog posts were easy as I was really lazy back then with few headings, links, and images. My more recent ones where I have decided to add a few more pieces of flair took a little longer to recreate in copy/paste mode.</p>

<p>That said, if I had it to do over, I would probably brute force it again. If I had closer to 100 posts to migrate, I would probably opt for creating some kind of migration script.</p>

<h3>Migrating the Comments</h3>

<p>The few comments I had on the blog I didn't really want to lose. What seemed to be the obvious choice here was to migrate to Disqus. They are everywhere, manage threads, help keep down spam, and hit right at my price point of free. The migration was a little trial and error for me, though.</p>

<p>My first try was to just import them from Blogger. Disqus has an automated way to do that, it took all of 4 minutes to complete the process. However, I had no good way to link my newly imported comments back to they’re original blog posts. Disqus will relate comments to posts in one of two ways, a unique identifier you provide them or the blog post url. I had no way to give them a unique identifier, and the url for each post was about to change.</p>

<p>After a little more research, I found that Disqus provides some tools for more complex blog migrations to keep your posts and comments linked up. (I'm telling you, the people at Disqus have thought of EVERYTHING!) So I redid the import to blogger, but instead of just importing the comments I installed Disqus as the commenting system on the existing blog. Then I had to do a quick CSV file to map the old url to the new url and upload that to Disqus. About an hour later, the comments appeared on the new blog. (The new blog was still not "live." It was running on local host and at timwingfield.github.com, but the comments were there.)</p>

<h3>Still On the Todo List</h3>

<p>Sunday I "pushed the button" and swapped the DNS around to point at github rather than at blogger, and about an hour after that switch the DNS had refreshed to the point that I was seeing the new blog. But now that I have the level of control over my blog that most geeks like to have, I’ve got plenty on the todo list.</p>

<p>I still want to add some more features to the index page, starting with getting a comment count and link under each post to go directly to the post. I would also like to revisit that publishing the categories thing from above. Initial thoughts are I will end up with some little rake script or something to handle it, but may do some more looking. A dedicated mobile interface would be nice. Jekyll has the ability to publish at a given time, so I will need to spike that one out to see what I need to do.</p>

<p>One week into this little experiment and I am liking it. I feel like I'm more in control of my content, I have a better comment system than before, and publishing is git push. Big fun!</p>

  <div id="comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'timwingfield';
        
        

        var disqus_url = 'http://blog.timwingfield.com/2011/06/07/moving-the-blog.html';

        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  </div>

</div>


          </div>
        </div>
      </div><!-- end content -->
      
      <div id="sidebar">
        <ul>
          <li>
            <h2>Find me on...</h2>
            <ul>
              <li><a href="http://twitter.com/timwingfield">twitter</a></li>
              <li><a href="http://timwingfield.tumblr.com">tumblr</a></li>
              <li><a href="http://www.facebook.com/tim.wingfield">facebook</a></li>
              <li><a href="http://www.linkedin.com/pub/tim-wingfield/8/89/213">linkedin</a></li>
            </ul>
          </li>
          <li>
            <h2>Categories</h2>
            <ul>
            
              <li><a href="/categories/Codemash/index.html">Codemash</a></li>
            
              <li><a href="/categories/conference/index.html">conference</a></li>
            
              <li><a href="/categories/development/index.html">development</a></li>
            
              <li><a href="/categories/ajax/index.html">ajax</a></li>
            
              <li><a href="/categories/tech-fun/index.html">tech-fun</a></li>
            
              <li><a href="/categories/PragProg/index.html">PragProg</a></li>
            
              <li><a href="/categories/testing/index.html">testing</a></li>
            
              <li><a href="/categories/TDD/index.html">TDD</a></li>
            
              <li><a href="/categories/ASP.Net-MVC/index.html">ASP.Net-MVC</a></li>
            
              <li><a href="/categories/MVC/index.html">MVC</a></li>
            
              <li><a href="/categories/speaking/index.html">speaking</a></li>
            
              <li><a href="/categories/mobile/index.html">mobile</a></li>
            
              <li><a href="/categories/video/index.html">video</a></li>
            
              <li><a href="/categories/kanban/index.html">kanban</a></li>
            
              <li><a href="/categories/goals/index.html">goals</a></li>
            
              <li><a href="/categories/presentation/index.html">presentation</a></li>
            
              <li><a href="/categories/presenting/index.html">presenting</a></li>
            
              <li><a href="/categories/development-practices/index.html">development-practices</a></li>
            
              <li><a href="/categories/Rails/index.html">Rails</a></li>
            
              <li><a href="/categories/Ruby/index.html">Ruby</a></li>
            
              <li><a href="/categories/Mac/index.html">Mac</a></li>
            
              <li><a href="/categories/career/index.html">career</a></li>
            
              <li><a href="/categories/Windows/index.html">Windows</a></li>
            
              <li><a href="/categories/Lean/index.html">Lean</a></li>
            
              <li><a href="/categories/mongodb/index.html">mongodb</a></li>
            
              <li><a href="/categories/Cucumber/index.html">Cucumber</a></li>
            
              <li><a href="/categories/IronRuby/index.html">IronRuby</a></li>
            
              <li><a href="/categories/Albacore/index.html">Albacore</a></li>
            
              <li><a href="/categories/RSpec/index.html">RSpec</a></li>
            
              <li><a href="/categories/nUnit/index.html">nUnit</a></li>
            
              <li><a href="/categories/continuous-improvement/index.html">continuous-improvement</a></li>
            
              <li><a href="/categories/lean/index.html">lean</a></li>
            
              <li><a href="/categories/agile/index.html">agile</a></li>
            
              <li><a href="/categories/retrospectives/index.html">retrospectives</a></li>
            
              <li><a href="/categories/estimation/index.html">estimation</a></li>
            
              <li><a href="/categories/sizing/index.html">sizing</a></li>
            
              <li><a href="/categories/Jekyll/index.html">Jekyll</a></li>
            
              <li><a href="/categories/coaching/index.html">coaching</a></li>
            
            </ul>
          </li>
        </ul>
      </div><!-- end sidebar -->

      <div style="clear: both;">&nbsp;</div>

      <div id="footer">
        <ul id="footer-menu">
          <li class="first"><a href="/">Home</a></li>
          <li><a href="/all.html">All Posts</a></li>
          <li><a href="/about.html">About</a></li>
          <li><a href="/contact.html">Contact</a></li>
        </ul>   
        <p>Copyright &copy;2011 timwingfield.com. All Rights Reserved.</p>
      </div>
    </div><!-- end page -->
  </body>
</html>
